class t{constructor(t=0,s=0,i=0){this.x=t,this.y=s,this.z=i}static add(t,s){return t.copy().add(s.copy())}static rem(t,s){return t.copy().rem(s.copy())}static sub(t,s){return t.copy().sub(s.copy())}static mult(t,s){return t.copy().mult(s.copy())}static div(t,s){return t.copy().div(s.copy())}static dot(t,s){return t.copy().dot(s.copy())}static dist(t,s){return t.copy().dist(s.copy())}static lerp(t,s,i){return t.copy().lerp(s.copy().x,s.copy().y,i)}static rotate(t,s){return t.copy().rotate(s)}static angle(t,s){return Math.atan2(s.copy().y-t.copy().y,s.copy().x-t.copy().x)}static fromAngle(s,i=1){return new t(i*Math.cos(s),i*Math.sin(s),0)}set(t,s){const i=this._formatArgs(t,s);return this.x=i.x,this.y=i.y,this}copy(){return new t(this.x,this.y)}toArray(){return[this.x,this.y]}toObject(){return{x:this.x,y:this.y}}add(t,s){const i=this._formatArgs(t,s);return this.x+=i.x,this.y+=i.y,this}rem(t,s){const i=this._formatArgs(t,s);return this.x=this.x%i.x,this.y=this.y%i.y,this}sub(t,s){const i=this._formatArgs(t,s);return this.x-=i.x,this.y-=i.y,this}mult(t,s){const i=this._formatArgs(t,s);return this.x*=i.x,this.y*=i.y,this}div(t,s){const i=this._formatArgs(t,s);return this.x/=i.x,this.y/=i.y,this}mag(){return Math.sqrt(this.magSq())}magSq(){const t=this.x,s=this.y;return t*t+s*s}dot(t,s){const i=this._formatArgs(t,s);return this.x*i.x+this.y*i.y}dist(t){return t.copy().sub(this).mag()}normalize(){const t=this.mag();return 0!==t&&this.mult(1/t),this}limit(t){const s=this.magSq();return s>t*t&&this.div(Math.sqrt(s)).mult(t),this}setMag(t){return this.normalize().mult(t)}heading(){return Math.atan2(this.y,this.x)}rotate(t){let s=this.heading()+t;const i=this.mag();return this.x=Math.cos(s)*i,this.y=Math.sin(s)*i,this}lerp(t,s,i){return this.x+=(t-this.x)*i,this.y+=(s-this.y)*i,this}cross(s){return new t(this.y*s.z-this.z*s.y,this.z*s.x-this.x*s.z,this.x*s.y-this.y*s.x)}_formatArgs(s,i){return s.x&&s.y?new t(s.x,s.y):(i||(i=s),new t(s,i))}}function s(s,i){return new t(s,i)}class i{constructor(t,i,r,n){this.a=s(t,i),this.b=s(r,n)}}function r(t,s,r,n){return new i(t,s,r,n)}class n{constructor(s,i){this.position=s,this.dir=t.fromAngle(i)}cast(t){const i=t.a.x,r=t.a.y,n=t.b.x,o=t.b.y,h=this.position.x,e=this.position.y,c=this.position.x+this.dir.x,y=this.position.y+this.dir.y,a=(i-n)*(e-y)-(r-o)*(h-c);if(0===a)return null;const u=((i-h)*(e-y)-(r-e)*(h-c))/a;return u>0&&u<1&&-((i-n)*(r-e)-(r-o)*(i-h))/a>0?s(i+u*(n-i),r+u*(o-r)):null}}function o(t,s){return new n(t,s)}class h{constructor(t,i,r=32){this.position=new s(t,i),this.rays=[];const n=360/r;for(let t=0;t<360;t+=n)this.rays.push(o(this.position,t*(Math.PI/180)))}updatePosition(t,s){this.position.set(t,s)}emit(s){const i=[];for(const r of this.rays){let n=null,o=Infinity;for(let i of s){const s=r.cast(i);if(s){const i=t.dist(this.position,s);i<o&&(o=i,n=s)}}n&&i.push({x:n.x,y:n.y})}return i}}function e(t,s,i){return new h(t,s,i)}export{r as createBoundary,e as createEmitter};
//# sourceMappingURL=raycast.modern.js.map
